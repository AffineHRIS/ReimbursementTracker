"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var forms_1 = require("@angular/forms");
var SelectFilterComponent = (function () {
    function SelectFilterComponent() {
        this.model = {};
        this.eventEmitter = new core_1.EventEmitter();
        this.isHidden = false;
    }
    SelectFilterComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.selectControl = new forms_1.FormControl();
        this.selectControl.valueChanges.subscribe(function (v) {
            var newValue = v || "";
            _this.eventEmitter.emit({
                value: newValue,
                model: _this.model,
                name: _this.name
            });
        });
    };
    SelectFilterComponent.prototype.setValue = function (name, value) {
        this.selectValue = value;
    };
    SelectFilterComponent.prototype.setVisibility = function (visible) {
        this.isHidden = !visible;
    };
    __decorate([
        core_1.HostBinding("hidden"), 
        __metadata('design:type', Boolean)
    ], SelectFilterComponent.prototype, "isHidden", void 0);
    SelectFilterComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: "th[select-filter]",
            inputs: ["name", "model"],
            outputs: ["eventEmitter"],
            template: "\n  <select class=\"form-control input-sm\"\n          [formControl]=\"selectControl\" [(ngModel)]=\"selectValue\">\n    <option *ngFor=\"let cond of model.selectValues\" value=\"{{cond.id}}\">\n      {{cond.name}}\n    </option>\n  </select>\n  "
        }), 
        __metadata('design:paramtypes', [])
    ], SelectFilterComponent);
    return SelectFilterComponent;
}());
exports.SelectFilterComponent = SelectFilterComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0LWZpbHRlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZWxlY3QtZmlsdGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEscUJBQW1ELGVBQWUsQ0FBQyxDQUFBO0FBQ25FLHNCQUEwQixnQkFBZ0IsQ0FBQyxDQUFBO0FBa0IzQztJQUFBO1FBRUUsVUFBSyxHQUFRLEVBQUUsQ0FBQztRQUNoQixpQkFBWSxHQUFRLElBQUksbUJBQVksRUFBRSxDQUFDO1FBR2hCLGFBQVEsR0FBWSxLQUFLLENBQUM7SUF1Qm5ELENBQUM7SUFuQkMsd0NBQVEsR0FBUjtRQUFBLGlCQVVDO1FBVEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLG1CQUFXLEVBQUUsQ0FBQztRQUN2QyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsVUFBQyxDQUFNO1lBQy9DLElBQUksUUFBUSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDdkIsS0FBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7Z0JBQ3JCLEtBQUssRUFBRSxRQUFRO2dCQUNmLEtBQUssRUFBRSxLQUFJLENBQUMsS0FBSztnQkFDakIsSUFBSSxFQUFFLEtBQUksQ0FBQyxJQUFJO2FBQ2hCLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELHdDQUFRLEdBQVIsVUFBUyxJQUFZLEVBQUUsS0FBVTtRQUMvQixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUMzQixDQUFDO0lBRUQsNkNBQWEsR0FBYixVQUFjLE9BQWdCO1FBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxPQUFPLENBQUM7SUFDM0IsQ0FBQztJQXRCRDtRQUFDLGtCQUFXLENBQUMsUUFBUSxDQUFDOzsyREFBQTtJQXJCeEI7UUFBQyxnQkFBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1lBQ25CLFFBQVEsRUFBRSxtQkFBbUI7WUFDN0IsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQztZQUN6QixPQUFPLEVBQUUsQ0FBQyxjQUFjLENBQUM7WUFDekIsUUFBUSxFQUFFLHdQQU9UO1NBQ0YsQ0FBQzs7NkJBQUE7SUErQkYsNEJBQUM7QUFBRCxDQUFDLEFBN0JELElBNkJDO0FBN0JZLDZCQUFxQix3QkE2QmpDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBIb3N0QmluZGluZ30gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7Rm9ybUNvbnRyb2x9IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiO1xuaW1wb3J0IHtUYWJsZUZpbHRlcn0gZnJvbSBcIi4vdGFibGUtZmlsdGVyXCI7XG5cbkBDb21wb25lbnQoe1xuICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICBzZWxlY3RvcjogXCJ0aFtzZWxlY3QtZmlsdGVyXVwiLFxuICBpbnB1dHM6IFtcIm5hbWVcIiwgXCJtb2RlbFwiXSxcbiAgb3V0cHV0czogW1wiZXZlbnRFbWl0dGVyXCJdLFxuICB0ZW1wbGF0ZTogYFxuICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sIGlucHV0LXNtXCJcbiAgICAgICAgICBbZm9ybUNvbnRyb2xdPVwic2VsZWN0Q29udHJvbFwiIFsobmdNb2RlbCldPVwic2VsZWN0VmFsdWVcIj5cbiAgICA8b3B0aW9uICpuZ0Zvcj1cImxldCBjb25kIG9mIG1vZGVsLnNlbGVjdFZhbHVlc1wiIHZhbHVlPVwie3tjb25kLmlkfX1cIj5cbiAgICAgIHt7Y29uZC5uYW1lfX1cbiAgICA8L29wdGlvbj5cbiAgPC9zZWxlY3Q+XG4gIGBcbn0pXG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RGaWx0ZXJDb21wb25lbnQgaW1wbGVtZW50cyBUYWJsZUZpbHRlciB7XG4gIG5hbWU6IHN0cmluZztcbiAgbW9kZWw6IGFueSA9IHt9O1xuICBldmVudEVtaXR0ZXI6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgc2VsZWN0VmFsdWU6IGFueTtcblxuICBASG9zdEJpbmRpbmcoXCJoaWRkZW5cIikgaXNIaWRkZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICBzZWxlY3RDb250cm9sOiBGb3JtQ29udHJvbDtcblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNlbGVjdENvbnRyb2wgPSBuZXcgRm9ybUNvbnRyb2woKTtcbiAgICB0aGlzLnNlbGVjdENvbnRyb2wudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgodjogYW55KSA9PiB7XG4gICAgICBsZXQgbmV3VmFsdWUgPSB2IHx8IFwiXCI7XG4gICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHtcbiAgICAgICAgdmFsdWU6IG5ld1ZhbHVlLFxuICAgICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldFZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuc2VsZWN0VmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHNldFZpc2liaWxpdHkodmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaXNIaWRkZW4gPSAhdmlzaWJsZTtcbiAgfVxufVxuIl19