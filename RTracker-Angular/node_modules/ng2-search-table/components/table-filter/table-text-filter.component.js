"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var forms_1 = require("@angular/forms");
var TableTextFilterComponent = (function () {
    function TableTextFilterComponent() {
        this.model = {};
        this.debounceMillSeconds = 300;
        this.eventEmitter = new core_1.EventEmitter();
        this.isHidden = false;
    }
    TableTextFilterComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.termControl = new forms_1.FormControl();
        this.termControl.valueChanges.debounceTime(this.debounceMillSeconds).subscribe(function (newValue) {
            if (_this.termControl.dirty) {
                _this.eventEmitter.emit({
                    value: newValue,
                    model: _this.model,
                    name: _this.name
                });
            }
        });
    };
    TableTextFilterComponent.prototype.reset = function () {
        this.term = "";
    };
    __decorate([
        core_1.HostBinding("hidden"), 
        __metadata('design:type', Boolean)
    ], TableTextFilterComponent.prototype, "isHidden", void 0);
    TableTextFilterComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'th[table-text-filter]',
            inputs: ['name', 'model', 'debounceMillSeconds'],
            outputs: ['eventEmitter'],
            template: "\n    <input class=\"form-control input-sm\" [formControl]=\"termControl\" [(ngModel)]=\"term\" />\n  "
        }), 
        __metadata('design:paramtypes', [])
    ], TableTextFilterComponent);
    return TableTextFilterComponent;
}());
exports.TableTextFilterComponent = TableTextFilterComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtdGV4dC1maWx0ZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGFibGUtdGV4dC1maWx0ZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxQkFBbUQsZUFBZSxDQUFDLENBQUE7QUFDbkUsc0JBQTBCLGdCQUFnQixDQUFDLENBQUE7QUFZM0M7SUFBQTtRQUVFLFVBQUssR0FBUSxFQUFFLENBQUM7UUFDaEIsd0JBQW1CLEdBQVcsR0FBRyxDQUFDO1FBQ2xDLGlCQUFZLEdBQVEsSUFBSSxtQkFBWSxFQUFFLENBQUM7UUFFaEIsYUFBUSxHQUFZLEtBQUssQ0FBQztJQXFCbkQsQ0FBQztJQWhCQywyQ0FBUSxHQUFSO1FBQUEsaUJBV0M7UUFWQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksbUJBQVcsRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBQSxRQUFRO1lBQ3JGLEVBQUUsQ0FBQSxDQUFDLEtBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsS0FBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7b0JBQ3JCLEtBQUssRUFBRSxRQUFRO29CQUNmLEtBQUssRUFBRSxLQUFJLENBQUMsS0FBSztvQkFDakIsSUFBSSxFQUFFLEtBQUksQ0FBQyxJQUFJO2lCQUNoQixDQUFDLENBQUM7WUFDTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsd0NBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFwQkQ7UUFBQyxrQkFBVyxDQUFDLFFBQVEsQ0FBQzs7OERBQUE7SUFoQnhCO1FBQUMsZ0JBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxNQUFNLENBQUMsRUFBRTtZQUNuQixRQUFRLEVBQUUsdUJBQXVCO1lBQ2pDLE1BQU0sRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUscUJBQXFCLENBQUM7WUFDaEQsT0FBTyxFQUFFLENBQUMsY0FBYyxDQUFDO1lBQ3pCLFFBQVEsRUFBRSx3R0FFVDtTQUNGLENBQUM7O2dDQUFBO0lBNkJGLCtCQUFDO0FBQUQsQ0FBQyxBQTNCRCxJQTJCQztBQTNCWSxnQ0FBd0IsMkJBMkJwQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSG9zdEJpbmRpbmd9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQge0Zvcm1Db250cm9sfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcblxuQENvbXBvbmVudCh7XG4gIG1vZHVsZUlkOiBtb2R1bGUuaWQsXG4gIHNlbGVjdG9yOiAndGhbdGFibGUtdGV4dC1maWx0ZXJdJyxcbiAgaW5wdXRzOiBbJ25hbWUnLCAnbW9kZWwnLCAnZGVib3VuY2VNaWxsU2Vjb25kcyddLFxuICBvdXRwdXRzOiBbJ2V2ZW50RW1pdHRlciddLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dC1zbVwiIFtmb3JtQ29udHJvbF09XCJ0ZXJtQ29udHJvbFwiIFsobmdNb2RlbCldPVwidGVybVwiIC8+XG4gIGBcbn0pXG5cbmV4cG9ydCBjbGFzcyBUYWJsZVRleHRGaWx0ZXJDb21wb25lbnQge1xuICBuYW1lOiBzdHJpbmc7XG4gIG1vZGVsOiBhbnkgPSB7fTtcbiAgZGVib3VuY2VNaWxsU2Vjb25kczogbnVtYmVyID0gMzAwO1xuICBldmVudEVtaXR0ZXI6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBASG9zdEJpbmRpbmcoXCJoaWRkZW5cIikgaXNIaWRkZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICB0ZXJtOiBzdHJpbmc7XG4gIHRlcm1Db250cm9sOiBGb3JtQ29udHJvbDtcblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnRlcm1Db250cm9sID0gbmV3IEZvcm1Db250cm9sKCk7XG4gICAgdGhpcy50ZXJtQ29udHJvbC52YWx1ZUNoYW5nZXMuZGVib3VuY2VUaW1lKHRoaXMuZGVib3VuY2VNaWxsU2Vjb25kcykuc3Vic2NyaWJlKG5ld1ZhbHVlID0+IHtcbiAgICAgIGlmKHRoaXMudGVybUNvbnRyb2wuZGlydHkpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCh7XG4gICAgICAgICAgdmFsdWU6IG5ld1ZhbHVlLFxuICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMudGVybSA9IFwiXCI7XG4gIH1cbn1cbiJdfQ==