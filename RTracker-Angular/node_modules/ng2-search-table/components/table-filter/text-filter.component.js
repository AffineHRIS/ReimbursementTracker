"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var forms_1 = require("@angular/forms");
var TextFilterComponent = (function () {
    function TextFilterComponent() {
        this.model = {};
        this.debounceMillSeconds = 300;
        this.eventEmitter = new core_1.EventEmitter();
        this.isHidden = false;
    }
    TextFilterComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.termControl = new forms_1.FormControl();
        this.termControl.valueChanges.subscribe(function (newValue) {
            var value = newValue || "";
            _this.eventEmitter.emit({
                value: value,
                model: _this.model,
                name: _this.name
            });
        });
    };
    TextFilterComponent.prototype.setValue = function (name, value) {
        this.term = value;
    };
    TextFilterComponent.prototype.setVisibility = function (visible) {
        this.isHidden = !visible;
    };
    __decorate([
        core_1.HostBinding("hidden"), 
        __metadata('design:type', Boolean)
    ], TextFilterComponent.prototype, "isHidden", void 0);
    TextFilterComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: "th[text-filter]",
            inputs: ["name", "model", "debounceMillSeconds"],
            outputs: ["eventEmitter"],
            template: "\n    <input class=\"form-control input-sm\" [formControl]=\"termControl\" [(ngModel)]=\"term\" />\n  "
        }), 
        __metadata('design:paramtypes', [])
    ], TextFilterComponent);
    return TextFilterComponent;
}());
exports.TextFilterComponent = TextFilterComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dC1maWx0ZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGV4dC1maWx0ZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxQkFBbUQsZUFBZSxDQUFDLENBQUE7QUFDbkUsc0JBQTBCLGdCQUFnQixDQUFDLENBQUE7QUFhM0M7SUFBQTtRQUVFLFVBQUssR0FBUSxFQUFFLENBQUM7UUFDaEIsd0JBQW1CLEdBQVcsR0FBRyxDQUFDO1FBQ2xDLGlCQUFZLEdBQVEsSUFBSSxtQkFBWSxFQUFFLENBQUM7UUFFaEIsYUFBUSxHQUFZLEtBQUssQ0FBQztJQXdCbkQsQ0FBQztJQW5CQyxzQ0FBUSxHQUFSO1FBQUEsaUJBVUM7UUFUQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksbUJBQVcsRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxVQUFBLFFBQVE7WUFDOUMsSUFBSSxLQUFLLEdBQUcsUUFBUSxJQUFJLEVBQUUsQ0FBQztZQUMzQixLQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztnQkFDckIsS0FBSyxFQUFFLEtBQUs7Z0JBQ1osS0FBSyxFQUFFLEtBQUksQ0FBQyxLQUFLO2dCQUNqQixJQUFJLEVBQUUsS0FBSSxDQUFDLElBQUk7YUFDaEIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsc0NBQVEsR0FBUixVQUFTLElBQVksRUFBRSxLQUFVO1FBQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFFRCwyQ0FBYSxHQUFiLFVBQWMsT0FBZ0I7UUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLE9BQU8sQ0FBQztJQUMzQixDQUFDO0lBdkJEO1FBQUMsa0JBQVcsQ0FBQyxRQUFRLENBQUM7O3lEQUFBO0lBaEJ4QjtRQUFDLGdCQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsTUFBTSxDQUFDLEVBQUU7WUFDbkIsUUFBUSxFQUFFLGlCQUFpQjtZQUMzQixNQUFNLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLHFCQUFxQixDQUFDO1lBQ2hELE9BQU8sRUFBRSxDQUFDLGNBQWMsQ0FBQztZQUN6QixRQUFRLEVBQUUsd0dBRVQ7U0FDRixDQUFDOzsyQkFBQTtJQWdDRiwwQkFBQztBQUFELENBQUMsQUE5QkQsSUE4QkM7QUE5QlksMkJBQW1CLHNCQThCL0IsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIEhvc3RCaW5kaW5nfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHtGb3JtQ29udHJvbH0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XG5pbXBvcnQge1RhYmxlRmlsdGVyfSBmcm9tIFwiLi90YWJsZS1maWx0ZXJcIjtcblxuQENvbXBvbmVudCh7XG4gIG1vZHVsZUlkOiBtb2R1bGUuaWQsXG4gIHNlbGVjdG9yOiBcInRoW3RleHQtZmlsdGVyXVwiLFxuICBpbnB1dHM6IFtcIm5hbWVcIiwgXCJtb2RlbFwiLCBcImRlYm91bmNlTWlsbFNlY29uZHNcIl0sXG4gIG91dHB1dHM6IFtcImV2ZW50RW1pdHRlclwiXSxcbiAgdGVtcGxhdGU6IGBcbiAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiBbZm9ybUNvbnRyb2xdPVwidGVybUNvbnRyb2xcIiBbKG5nTW9kZWwpXT1cInRlcm1cIiAvPlxuICBgXG59KVxuXG5leHBvcnQgY2xhc3MgVGV4dEZpbHRlckNvbXBvbmVudCBpbXBsZW1lbnRzIFRhYmxlRmlsdGVyIHtcbiAgbmFtZTogc3RyaW5nO1xuICBtb2RlbDogYW55ID0ge307XG4gIGRlYm91bmNlTWlsbFNlY29uZHM6IG51bWJlciA9IDMwMDtcbiAgZXZlbnRFbWl0dGVyOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQEhvc3RCaW5kaW5nKFwiaGlkZGVuXCIpIGlzSGlkZGVuOiBib29sZWFuID0gZmFsc2U7XG5cbiAgdGVybTogc3RyaW5nO1xuICB0ZXJtQ29udHJvbDogRm9ybUNvbnRyb2w7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy50ZXJtQ29udHJvbCA9IG5ldyBGb3JtQ29udHJvbCgpO1xuICAgIHRoaXMudGVybUNvbnRyb2wudmFsdWVDaGFuZ2VzLnN1YnNjcmliZShuZXdWYWx1ZSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBuZXdWYWx1ZSB8fCBcIlwiO1xuICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnRlcm0gPSB2YWx1ZTtcbiAgfVxuXG4gIHNldFZpc2liaWxpdHkodmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaXNIaWRkZW4gPSAhdmlzaWJsZTtcbiAgfVxufVxuIl19